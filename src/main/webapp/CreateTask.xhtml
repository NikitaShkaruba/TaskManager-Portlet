<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <!-- TODO: Also add some beauty to this page -->
</h:head>

<h:body>
    <f:event type="preRenderView" listener="#{TaskEditor.initializeTaskForCreation}"/>

    <p:tooltip />

    <h:form>
        <h:outputLabel value="Создание новой заявки"/>

        <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
        <br/>

        <h:outputLabel value="Описание заявки:" escape="true"/>
        <br/>
        <p:inputText value="#{TaskEditor.description}" style="width: 700px; height: 80px;" />

        <h:panelGrid columns="2" cellpadding="5">
            <h:outputLabel value="Статус"/>
            <p:selectOneMenu id="selectStatus" value="#{TaskEditor.status}" style="width:250px">
                <f:selectItems value="#{TaskEditor.taskStatusOptions}"/>
            </p:selectOneMenu>
        </h:panelGrid>

        <h:panelGrid columns="2" cellpadding="5">
            <h:outputLabel value="Группа:"/>
            <p:selectOneMenu id="selectGroup" value="#{TaskEditor.group}" style="width:250px">
                <f:selectItems value="#{TaskEditor.groupOptions}" />
            </p:selectOneMenu>
        </h:panelGrid>

        <h:panelGrid columns="2" cellpadding="5">
            <h:outputLabel value="Исполнитель:"/>
            <p:selectOneMenu value="#{TaskEditor.executor}" style="width:250px">
                <f:selectItems value="#{TaskEditor.executorOptions}" />
            </p:selectOneMenu>
        </h:panelGrid>

        <h:panelGrid columns="2" cellpadding="5">
            <h:outputLabel value="Приоритет:"/>
            <p:selectOneMenu id="selectPriority" value="#{TaskEditor.priority}" style="width:250px">
                <f:selectItems value="#{TaskEditor.priorityOptions}" />
            </p:selectOneMenu>
        </h:panelGrid>

        <h:panelGrid columns="2" cellpadding="5">
            <p:outputLabel for="startTime" value="Начать выполнение:" />
            <p:outputLabel for="endTime" value="Завершить работу:" />

            <p:calendar id="startTime" value="#{TaskEditor.startDate}"  pattern="dd-MM-yyyy" mask="true" />
            <p:calendar id="endTime" value="#{TaskEditor.finishDate}" pattern="dd-MM-yyyy" mask="true" />
        </h:panelGrid>

        <p:commandButton value="Создать заявку" actionListener="#{TaskEditor.create}" />
        <p:button value="Отменa" outcome="ViewTasks.xhtml" />
    </h:form>
</h:body>
</html>
